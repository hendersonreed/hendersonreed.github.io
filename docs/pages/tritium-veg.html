<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <style>

      @font-face {
        font-family: 'IBM-VGA9';
        src: url('/fonts/Px437_IBM_VGA9.ttf');
      }

      body {
        background-color: #0f0f0f;
        color: white;
        width: 80%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        margin: auto;
        font-size: 2em;
      }

      p, h1, h2, h3 { 
        font-family: "IBM-VGA9"; 
      }

      button {
        font-family: "IBM-VGA9"; 
        color: white;
        background-color: #0f0f0f;
        padding: 10px;
        font-size: 1.25em;
      }

      .make-it-pretty {
        /* this is the css for making it pseudo-monospaced */
        display: inline-block;
        width: 1.25ch;
        line-height: 125%;
        text-align: center;
        /* this is the animation */
      }

      .animated {
        animation: blinker .75s cubic-bezier(0,1.25,.7,1.23) infinite;
      }

      @keyframes blinker {
        50% { opacity: 0; }
      }

      .s1 {
        color: #948392;
        background-color: #CE1483;
      }
      .s2 {
        color: #274060;
        background-color: #FFD400;
      }
      .s3 {
        color: #CE1483;
        background-color: #4B8F8C;
      }
      .s4 {
        color: #4CC9F0;
        background-color: #274060;
      }
      .s5 {
        color: #274060;
        background-color: #7E6B8F;
      }
      .s6 {
        color: #4B8F8C;
        background-color: #191923;
      }

    </style>

    <script>
      let classArray = ["s1", "s2", "s3", "s4", "s4", "s5", "s6"];
      let characterArray = [];

      function initCharRange() {
        for(let i = 0x0021; i <= 0x007E; i++) {
          characterArray.push(String.fromCharCode(i));
          //this gets us the basic letters, but not any of the cool characters.
        }
        // for that, we must hardcode :(
        // these numbers are taken straight from 
        // https://int10h.org/images/chart437.png, which is where I got the 
        // font.
        characterArray.push(String.fromCharCode(0x263a))
        characterArray.push(String.fromCharCode(0x263b))
        characterArray.push(String.fromCharCode(0x2665))
        characterArray.push(String.fromCharCode(0x2666))
        characterArray.push(String.fromCharCode(0x2663))
        characterArray.push(String.fromCharCode(0x2660))
        characterArray.push(String.fromCharCode(0x2022))
        characterArray.push(String.fromCharCode(0x25d8))
        characterArray.push(String.fromCharCode(0x25cb))
        characterArray.push(String.fromCharCode(0x25d9))
        characterArray.push(String.fromCharCode(0x2642))
        characterArray.push(String.fromCharCode(0x2640))
        characterArray.push(String.fromCharCode(0x266a))
        characterArray.push(String.fromCharCode(0x266b))
        characterArray.push(String.fromCharCode(0x263c))
        characterArray.push(String.fromCharCode(0x25ba))
        characterArray.push(String.fromCharCode(0x25c4))
        characterArray.push(String.fromCharCode(0x2195))
        characterArray.push(String.fromCharCode(0x203c))
        characterArray.push(String.fromCharCode(0x00b6))
        characterArray.push(String.fromCharCode(0x00a7))
        characterArray.push(String.fromCharCode(0x25ac))
        characterArray.push(String.fromCharCode(0x21a8))
        characterArray.push(String.fromCharCode(0x2191))
        characterArray.push(String.fromCharCode(0x2193))
        characterArray.push(String.fromCharCode(0x2192))
        characterArray.push(String.fromCharCode(0x221f))
        characterArray.push(String.fromCharCode(0x2194))
        characterArray.push(String.fromCharCode(0x25b2))
        characterArray.push(String.fromCharCode(0x25bc))
        characterArray.push(String.fromCharCode(0x2302))
        /*
        characterArray.push(String.fromCharCode(0x00c7))
        characterArray.push(String.fromCharCode(0x00fc))
        characterArray.push(String.fromCharCode(0x00e9))
        characterArray.push(String.fromCharCode(0x00e2))
        characterArray.push(String.fromCharCode(0x00e0))
        characterArray.push(String.fromCharCode(0x00e5))
        characterArray.push(String.fromCharCode(0x00e7))
        characterArray.push(String.fromCharCode(0x00ea))
        characterArray.push(String.fromCharCode(0x00eb))
        characterArray.push(String.fromCharCode(0x00e8))
        characterArray.push(String.fromCharCode(0x00ef))
        characterArray.push(String.fromCharCode(0x00ee))
        characterArray.push(String.fromCharCode(0x00ec))
        characterArray.push(String.fromCharCode(0x00c4))
        characterArray.push(String.fromCharCode(0x00c4))
        characterArray.push(String.fromCharCode(0x00c5))
        characterArray.push(String.fromCharCode(0x00c9))
        characterArray.push(String.fromCharCode(0x00e6))
        characterArray.push(String.fromCharCode(0x00c6))
        characterArray.push(String.fromCharCode(0x00f4))
        characterArray.push(String.fromCharCode(0x00f6))
        characterArray.push(String.fromCharCode(0x00f2))
        characterArray.push(String.fromCharCode(0x00f9))
        characterArray.push(String.fromCharCode(0x00ff))
        characterArray.push(String.fromCharCode(0x00d6))
        characterArray.push(String.fromCharCode(0x00dc))
        characterArray.push(String.fromCharCode(0x00a2))
        characterArray.push(String.fromCharCode(0x00a3))
        characterArray.push(String.fromCharCode(0x00a5))
        characterArray.push(String.fromCharCode(0x20a7))
        characterArray.push(String.fromCharCode(0x0192))
        characterArray.push(String.fromCharCode(0x00e1))
        characterArray.push(String.fromCharCode(0x00ed))
        characterArray.push(String.fromCharCode(0x00f3))
        characterArray.push(String.fromCharCode(0x00fa))
        characterArray.push(String.fromCharCode(0x00f1))
        characterArray.push(String.fromCharCode(0x00d1))
        characterArray.push(String.fromCharCode(0x00aa))
        characterArray.push(String.fromCharCode(0x00ba))
        characterArray.push(String.fromCharCode(0x00bf))
        characterArray.push(String.fromCharCode(0x2310))
        characterArray.push(String.fromCharCode(0x00ac))
        characterArray.push(String.fromCharCode(0x00bd))
        characterArray.push(String.fromCharCode(0x00bc))
        characterArray.push(String.fromCharCode(0x00a1))
        characterArray.push(String.fromCharCode(0x00ab))
        characterArray.push(String.fromCharCode(0x00bb))
        characterArray.push(String.fromCharCode(0x2591))
        characterArray.push(String.fromCharCode(0x2592))
        characterArray.push(String.fromCharCode(0x2502))
        characterArray.push(String.fromCharCode(0x2524))
        characterArray.push(String.fromCharCode(0x2556))
        characterArray.push(String.fromCharCode(0x2555))
        characterArray.push(String.fromCharCode(0x2563))
        characterArray.push(String.fromCharCode(0x2551))
        characterArray.push(String.fromCharCode(0x2557))
        characterArray.push(String.fromCharCode(0x255d))
        characterArray.push(String.fromCharCode(0x255c))
        characterArray.push(String.fromCharCode(0x255b))
        characterArray.push(String.fromCharCode(0x2510))
        characterArray.push(String.fromCharCode(0x2514))
        characterArray.push(String.fromCharCode(0x2534))
        characterArray.push(String.fromCharCode(0x252c))
        characterArray.push(String.fromCharCode(0x253c))
        characterArray.push(String.fromCharCode(0x255e))
        characterArray.push(String.fromCharCode(0x255a))
        characterArray.push(String.fromCharCode(0x2554))
        characterArray.push(String.fromCharCode(0x2569))
        characterArray.push(String.fromCharCode(0x2566))
        characterArray.push(String.fromCharCode(0x2560))
        characterArray.push(String.fromCharCode(0x2550))
        characterArray.push(String.fromCharCode(0x256c))
        characterArray.push(String.fromCharCode(0x2567))
        characterArray.push(String.fromCharCode(0x2568))
        characterArray.push(String.fromCharCode(0x2564))
        characterArray.push(String.fromCharCode(0x2565))
        characterArray.push(String.fromCharCode(0x2559))
        characterArray.push(String.fromCharCode(0x2558))
        characterArray.push(String.fromCharCode(0x2552))
        characterArray.push(String.fromCharCode(0x2553))
        characterArray.push(String.fromCharCode(0x256a))
        characterArray.push(String.fromCharCode(0x2518))
        characterArray.push(String.fromCharCode(0x250c))
        characterArray.push(String.fromCharCode(0x2588))
        characterArray.push(String.fromCharCode(0x2584))
        characterArray.push(String.fromCharCode(0x258c))
        characterArray.push(String.fromCharCode(0x2590))
        characterArray.push(String.fromCharCode(0x2580))
        characterArray.push(String.fromCharCode(0x03b1))
        characterArray.push(String.fromCharCode(0x00df))
        characterArray.push(String.fromCharCode(0x03c0))
        characterArray.push(String.fromCharCode(0x03a3))
        characterArray.push(String.fromCharCode(0x03c3))
        characterArray.push(String.fromCharCode(0x00b5))
        characterArray.push(String.fromCharCode(0x03c4))
        characterArray.push(String.fromCharCode(0x03a6))
        characterArray.push(String.fromCharCode(0x0398))
        characterArray.push(String.fromCharCode(0x03a9))
        characterArray.push(String.fromCharCode(0x03b4))
        characterArray.push(String.fromCharCode(0x221e))
        characterArray.push(String.fromCharCode(0x03d6))
        characterArray.push(String.fromCharCode(0x03b5))
        characterArray.push(String.fromCharCode(0x2229))
        characterArray.push(String.fromCharCode(0x2261))
        characterArray.push(String.fromCharCode(0x00b1))
        characterArray.push(String.fromCharCode(0x2265))
        characterArray.push(String.fromCharCode(0x2264))
        characterArray.push(String.fromCharCode(0x2320))
        characterArray.push(String.fromCharCode(0x2321))
        characterArray.push(String.fromCharCode(0x00f7))
        characterArray.push(String.fromCharCode(0x2248))
        characterArray.push(String.fromCharCode(0x00b0))
        characterArray.push(String.fromCharCode(0x2219))
        characterArray.push(String.fromCharCode(0x00b7))
        characterArray.push(String.fromCharCode(0x221a))
        characterArray.push(String.fromCharCode(0x207f))
        characterArray.push(String.fromCharCode(0x00b2))
        characterArray.push(String.fromCharCode(0x25a0))
        */
        //ugly, I know...
      }

      function randomAnimation(percentChance) {
        // expecting percentChance to be a percentage between 0 and 1.
        return (Math.random() < percentChance ? " animated" : "")
      }

      function randomLine(lineLen) {
        returnLine = [];
        for(let i = 0; i < lineLen; ++i) {
          let characterIndex = Math.floor(Math.random() * characterArray.length);
          let classIndex = Math.floor(Math.random() * classArray.length);
          let appendVar = '<span class="' + 
            classArray[classIndex] + ' make-it-pretty' + 
            randomAnimation(.1) + '">' +
            characterArray[characterIndex] + "</span>";
          returnLine.push(appendVar);
        }
        returnLine.push('\n');
        return returnLine;
      }

      function dilo(width, length) {
        randomText=[];
        for(let i = 0; i < length; i++) {
          randomText.push(randomLine(width).join(""));
        }
          document.getElementById("tritium-container").innerHTML = randomText.join("<br>");
      }
    </script>

  </head>

  <body onload="initCharRange()">
    <h1> &#x2663  TRITIUM.VEG  &#x2663 </h1>
    <button type="button" onClick="dilo(50,10)">CONSULT THE ORACLE</button>
    <p id="tritium-container"></p>
  </body>
</html>
